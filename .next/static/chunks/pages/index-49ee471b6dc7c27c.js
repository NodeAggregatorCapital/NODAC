(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(70246)}])},70246:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ke}});var a,s=n(34051),r=n.n(s),i=n(85893),o=n(69795),u=n(75825),l=n(67294),c=n(65927),p=n(18005),y=n(45150),m=n(3283),d=n.n(m);if("undefined"!==typeof window.ethereum)try{window.ethereum.request({method:"eth_requestAccounts"}),a=new(d())(window.ethereum)}catch(ge){console.log("Web3: ",ge.message)}else try{a=new(d())(new(d().providers.HttpProvider)("https://data-seed-prebsc-1-s1.binance.org:8545"))}catch(ge){console.log("Web3*: ",ge.message)}var f,h=a,b=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_oracle","type":"address"},{"internalType":"address","name":"_token","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"DeterminationCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"Determinations","outputs":[{"internalType":"uint256","name":"_stake","type":"uint256"},{"internalType":"uint256","name":"_timestamp","type":"uint256"},{"internalType":"uint8","name":"_result","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"EmergencyAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"StakeCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"Stakes","outputs":[{"internalType":"address","name":"_staker","type":"address"},{"internalType":"uint256","name":"_timestamp","type":"uint256"},{"internalType":"uint256","name":"_avaxamount","type":"uint256"},{"internalType":"uint256","name":"_tokenamount","type":"uint256"},{"internalType":"uint8","name":"_result","type":"uint8"},{"internalType":"bool","name":"_settled","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Streak","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"avaxCommEarned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"avaxmax","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"avaxmin","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"comm","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"emergencyWithdrawal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"max","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"min","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracle","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oraclefee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_stake","type":"uint256"},{"internalType":"uint8","name":"_result","type":"uint8"}],"name":"process","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"requests","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"requestsFulfilled","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_min","type":"uint256"},{"internalType":"uint256","name":"_max","type":"uint256"},{"internalType":"uint256","name":"_avaxmin","type":"uint256"},{"internalType":"uint256","name":"_avaxmax","type":"uint256"}],"name":"setMinMax","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"setOracle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"setOracleFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_address","type":"address"}],"name":"setTeamWallet","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"setToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenamount","type":"uint256"}],"name":"stake","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"stakeAVAX","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"teamWallet","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenCommEarned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"userStakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdrawAVAX","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_stake","type":"uint256"}],"name":"withdrawStake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]}');try{f=new h.eth.Contract(b.Mt,"0xe633c7f12dC0994Ef181324b1f5450De8EAE51F5")}catch(ge){console.log("Caught: ",ge.message),f=""}var x=f,v=n(95712),k=n(63272),g=n(80650);function w(e){var t=(0,o.Ge)(),n=t.active,a=t.account,s=(t.library,t.connector,t.activate,t.deactivate,(0,l.useState)(!1)),r=(s[0],s[1],(0,l.useState)(!1)),u=(r[0],r[1],(0,l.useState)("Click to Connect")),c=(u[0],u[1],"Double or Nothin'"),p="/images/Logo.png";return(0,i.jsxs)(k.Z,{className:"MenuContainer",children:[(0,i.jsx)(k.Z.Item,{children:(0,i.jsx)(g.Z,{src:p,size:"small"})}),(0,i.jsx)(k.Z.Item,{children:(0,i.jsx)("h1",{className:"AppTitle",children:c})}),(0,i.jsxs)(k.Z.Menu,{position:"right",children:[(0,i.jsx)(k.Z.Item,{className:"WalletAmount",children:(0,i.jsxs)(k.Z,{text:!0,children:[(0,i.jsxs)(k.Z.Item,{children:[(0,i.jsx)(g.Z,{src:"/images/coin_avax.png",alt:"AVAX",style:{width:"40px",paddingRight:"10px"}}),e.balance?e.balance.substring(0,5):"--"]}),(0,i.jsxs)(k.Z.Item,{children:[(0,i.jsx)(y.Z,{name:"cog",alt:"Your Balance",size:"big",color:"black"}),e.balanceToken?e.balanceToken.substring(0,5):"--"]})]})}),(0,i.jsx)(k.Z.Item,{className:"WalletInfo",children:n?a.substring(0,6):""})]})]})}function T(e){return(0,i.jsxs)(v.Z,{children:[(0,i.jsx)(w,{balance:e.balance,balanceToken:e.balanceToken,currentAccount:e.currentAccount}),e.children]})}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function C(e,t){return!t||"object"!==Z(t)&&"function"!==typeof t?j(e):t}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}var Z=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=_(e);if(t){var s=_(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return C(this,n)}}var P=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(r,e);var t,n,a,s=N(r);function r(){var e;return A(this,r),S(j(e=s.apply(this,arguments)),"state",{errMessage:"",loading:!1}),e}return t=r,(n=[{key:"render",value:function(){var e=c.Z.Row,t=c.Z.Cell,n=this.props,a=n.id,s=n.stake,r=n.onResponse,o=(n.filter,"--");return 1==s._result?o="Aped":2==s._result&&(o="Rekt"),(0,i.jsxs)(e,{style:{backgroundColor:s._settled?"var(--dark-color":"",color:s._settled?"white":"var(--dark-color)"},children:[(0,i.jsx)(t,{children:a+1}),(0,i.jsx)(t,{children:s._staker.substring(0,6)}),(0,i.jsx)(t,{children:s._timestamp}),(0,i.jsx)(t,{children:h.utils.fromWei(s._avaxamount,"ether")}),(0,i.jsx)(t,{children:h.utils.fromWei(s._tokenamount,"ether")}),(0,i.jsx)(t,{style:{color:1==s._result?"Green":"Red"},children:o}),(0,i.jsx)(t,{style:{textAlign:"center"},children:!0===s._settled?(0,i.jsx)(y.Z,{name:"check",style:{color:"var(--light-color)"}}):1==s._result?(0,i.jsx)(y.Z,{name:"shopping cart",style:{cursor:"pointer",color:"var(--light-color)"},onClick:r,stakeid:a+1}):(0,i.jsx)(y.Z,{name:"clock",style:{color:"var(--light-color)"},stakeid:a+1})})]})}}])&&M(t.prototype,n),a&&M(t,a),r}(l.Component),R=P,D=n(80913),E=n(68543),W=n(68156),F=n(85851);function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n,a,s,r,i){try{var o=e[r](i),u=o.value}catch(l){return void n(l)}o.done?t(u):Promise.resolve(u).then(a,s)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function i(e){z(r,a,s,i,o,"next",e)}function o(e){z(r,a,s,i,o,"throw",e)}i(void 0)}))}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function G(e,t){return!t||"object"!==L(t)&&"function"!==typeof t?H(e):t}function Y(e,t){return Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y(e,t)}var L=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=q(e);if(t){var s=q(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return G(this,n)}}var U="0xe633c7f12dC0994Ef181324b1f5450De8EAE51F5",K="0x803e78269f7F013b7D13ba13243Be10C66418a70",Q=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"burn",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"unfreeze",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"freezeOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"freeze",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Freeze",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Unfreeze",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],$=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(o,e);var t,n,a,s=J(o);function o(){var e;I(this,o),V(H(e=s.apply(this,arguments)),"state",{minPlaceholderTxt:"Min Amount: "+(e.props.minStakeToken?e.props.minStakeToken:"--")+" NODAC",stakeAmount:"",stakeMessage:"Awaiting user selection...",errorMsg:"",approved:!1,loading:!1});var t=H(e);V(H(e),"onSubmit",function(){var e=B(r().mark((function e(n){var a,s,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=t.state.minPlaceholderTxt.split(" ").pop(),e.prev=2,""!=parseFloat(t.state.stakeAmount)){e.next=8;break}throw t.setState({errorMsg:"Please enter a minimum amount"}),{message:"Please enter a minimum amount"};case 8:if(!(parseFloat(t.state.stakeAmount)<("NODAC"===a?t.props.minStakeToken:t.props.minStake))){e.next=13;break}throw t.setState({errorMsg:"Min Amount is "+("NODAC"===a?t.props.minStakeToken:t.props.minStake)}),{message:"Min Amount is "+("NODAC"===a?t.props.minStakeToken:t.props.minStake)};case 13:if(!(parseFloat(t.state.stakeAmount)>("NODAC"===a?t.props.maxStakeToken:t.props.maxStake))){e.next=18;break}throw t.setState({errorMsg:"Max Amount is "+("NODAC"===a?t.props.maxStakeToken:t.props.maxStake)}),{message:"Max Amount is "+("NODAC"===a?t.props.maxStakeToken:t.props.maxStake)};case 18:if(!(parseFloat(t.state.stakeAmount)>("NODAC"===a?t.props.balanceToken:t.props.balance))){e.next=21;break}throw t.setState({errorMsg:"Cannot exceed your max balance of "+("NODAC"===a?t.props.balanceToken:t.props.balance)}),{message:"Cannot exceed your max balance of "+("NODAC"===a?t.props.balanceToken:t.props.balance)};case 21:return t.setState({loading:!0}),""!=t.state.errorMsg&&t.setState({errorMsg:""}),e.next=25,h.eth.getAccounts();case 25:if(s=e.sent,"NODAC"!==a){e.next=39;break}return e.next=29,new h.eth.Contract(Q,K);case 29:if(i=e.sent,t.state.approved){e.next=35;break}return e.next=33,i.methods.approve(U,h.utils.toWei(t.state.stakeAmount,"ether")).send({from:s[0]}).then(t.setState({approved:!0}));case 33:e.next=37;break;case 35:return e.next=37,x.methods.stake(h.utils.toWei(t.state.stakeAmount,"ether")).send({from:s[0],value:h.utils.toWei(t.props.oracleFee,"ether")});case 37:e.next=42;break;case 39:return o=parseFloat(t.state.stakeAmount)+parseFloat(t.props.oracleFee),e.next=42,x.methods.stakeAVAX().send({from:s[0],value:h.utils.toWei(o.toString(),"ether")});case 42:e.next=47;break;case 44:e.prev=44,e.t0=e.catch(2),t.setState({errorMsg:e.t0.message});case 47:return e.prev=47,t.setState({loading:!1}),e.finish(47);case 50:case"end":return e.stop()}}),e,null,[[2,44,47,50]])})));return function(t){return e.apply(this,arguments)}}());var n=H(e);V(H(e),"onChange",function(){var e=B(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({stakeAmount:t.target.value}),""!=n.state.errorMsg&&n.setState({errorMsg:""});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var a=H(e);return V(H(e),"onChangeToken",function(){var e=B(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.checked?a.setState({minPlaceholderTxt:"Min Amount: "+a.props.minStakeToken+" NODAC"}):a.setState({minPlaceholderTxt:"Min Amount: "+a.props.minStake+" AVAX"});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e}return t=o,(n=[{key:"renderStreak",value:function(e){var t="streakfire.gif";return 1==e?(0,i.jsx)(g.Z,{src:"./images/".concat(t),size:"mini",style:{left:"45%"}}):2==e?(0,i.jsx)(g.Z,{src:"./images/".concat(t),size:"tiny",style:{left:"30%"}}):e>0&&e<10?(0,i.jsx)(g.Z,{src:"./images/".concat(t),size:"small",style:{left:"20%"}}):e>=10?(0,i.jsx)(g.Z,{src:"./images/".concat(t),size:"medium",style:{left:"15%"}}):""}},{key:"render",value:function(){var e=this,t=this.props,n=(t.minStake,t.maxStake,t.minStakeToken,t.maxStakeToken,t.streak);return(0,i.jsxs)(p.Z,{className:"GridContainer",centered:!0,children:[(0,i.jsxs)(p.Z.Row,{columns:7,verticalAlign:"bottom",style:{marginBottom:"20px",marginTop:"20px"},children:[(0,i.jsxs)(p.Z.Column,{style:{textAlign:"center",fontWeight:this.state.buttonHeads?"bold":"normal",color:this.state.buttonHeads?"var(--light-color)":"",textDecoration:this.state.buttonHeads?"overline":"none"},children:[(0,i.jsx)(g.Z,{src:"./images/coin_heads.svg",size:"tiny",centered:!0,className:this.state.buttonHeads?"selectedCoin":"coin",onClick:function(){e.setState({buttonTails:!1,buttonHeads:!0,stakeMessage:"You're staking HEADS!!!"})}}),"Pick Heads"]}),(0,i.jsxs)(p.Z.Column,{style:{position:"relative",textAlign:"center",color:"red"},children:[this.renderStreak(n),(0,i.jsx)("div",{style:{position:"absolute",top:"50%",fontSize:"34px",fontWeight:"bold",WebkitTextStroke:"1px black",width:"100%",textAlign:"center"},children:n>0?n:""}),(0,i.jsx)("div",{style:{position:"absolute",top:"100%",width:"100%",fontSize:"14px",fontWeight:"bold",textAlign:"center"},children:n>0?"Your streak":""})]}),(0,i.jsxs)(p.Z.Column,{style:{textAlign:"center",fontWeight:this.state.buttonTails?"bold":"normal",color:this.state.buttonTails?"var(--light-color)":"",textDecoration:this.state.buttonTails?"overline":"none"},children:[(0,i.jsx)(g.Z,{src:"./images/coin_tails.svg",size:"tiny",className:this.state.buttonTails?"selectedCoin":"coin",centered:!0,onClick:function(){e.setState({buttonTails:!0,buttonHeads:!1,stakeMessage:"You're staking TAILS!!!"})}}),"Pick Tails"]})]}),(0,i.jsx)(p.Z.Row,{columns:1,children:(0,i.jsx)(p.Z.Column,{className:"stakeMsgContainer",children:(0,i.jsx)(F.Z,{cursor:!0,sequence:[this.state.stakeMessage,2e3]})})}),(0,i.jsx)(p.Z.Row,{columns:3,children:(0,i.jsx)(p.Z.Column,{children:(0,i.jsxs)(D.Z,{onSubmit:this.onSubmit,error:""!=this.state.errorMsg,children:[(0,i.jsxs)(D.Z.Field,{children:[(0,i.jsx)("label",{style:{textAlign:"center",fontSize:"16px",color:"var(--dark-color)"},children:"How much are you willing to stake?"}),(0,i.jsx)("input",{placeholder:this.state.minPlaceholderTxt,value:this.state.stakeAmount,onChange:this.onChange,className:"stakeAmountInput"})]}),(0,i.jsxs)("div",{style:{textAlign:"center",fontSize:"16px",color:"var(--dark-color)",paddingBottom:"20px  "},children:["AVAX",(0,i.jsx)(E.Z,{toggle:!0,defaultChecked:!0,onChange:this.onChangeToken,style:{margin:"0 20px 0 20px"}}),"NODAC"]}),(0,i.jsx)(W.Z,{error:!0,header:"Oops!",content:this.state.errorMsg}),(0,i.jsx)("button",{className:"stakeBtn",type:"submit",children:"NODAC"===this.state.minPlaceholderTxt.split(" ").pop()?this.state.approved?"Stake":"Approve":"Stake"})]})})})]})}}])&&X(t.prototype,n),a&&X(t,a),o}(l.Component),ee=$;function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n,a,s,r,i){try{var o=e[r](i),u=o.value}catch(l){return void n(l)}o.done?t(u):Promise.resolve(u).then(a,s)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function i(e){ne(r,a,s,i,o,"next",e)}function o(e){ne(r,a,s,i,o,"throw",e)}i(void 0)}))}}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ue(e,t){return!t||"object"!==ce(t)&&"function"!==typeof t?te(e):t}function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}var ce=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=oe(e);if(t){var s=oe(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return ue(this,n)}}var ye="0xe633c7f12dC0994Ef181324b1f5450De8EAE51F5",me=("/images/".concat("coin_spin_bg.gif"),[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"}]),de=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(o,e);var t,n,a,s=pe(o);function o(){var e;se(this,o),ie(te(e=s.apply(this,arguments)),"state",{userStakes:"",currentAccount:"Click to Connect",balanceAccount:"",filterMine:!1});var t=te(e);ie(te(e),"onResponse",function(){var e=ae(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.target.getAttribute("stakeid"),e.next=4,x.methods.withdrawStake(a).send({from:t.state.currentAccount});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Withdraw Err: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}());var n=te(e);return ie(te(e),"handleFilter",ae(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({filterMine:!n.state.filterMine});case 1:case"end":return e.stop()}}),e)})))),e}return t=o,(n=[{key:"renderStakes",value:function(e){try{var t=this,n=this.state.filterMine?this.state.stakes.length:10;return this.state.stakes.slice(0,n).map((function(n,a){if(n._staker==t.state.currentAccount||!t.state.filterMine)return(0,i.jsx)(R,{onResponse:t.onResponse,id:a,stake:n,filter:e},a)}))}catch(a){return(0,i.jsx)(c.Z.Row,{children:(0,i.jsx)(c.Z.Cell,{})})}}},{key:"componentDidMount",value:function(){var e=this;return ae(r().mark((function t(){var n,a,s,i,o,u,l,c,p,y,m,d,f,b,v,k,g,w;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new h.eth.Contract(me,"0x803e78269f7F013b7D13ba13243Be10C66418a70"),t.t0=h.utils,t.next=5,h.eth.getBalance(ye);case 5:return t.t1=t.sent,t.next=8,t.t0.fromWei.call(t.t0,t.t1,"ether");case 8:return a=t.sent,t.prev=10,t.t2=h.utils,t.next=14,n.methods.balanceOf(ye).call();case 14:return t.t3=t.sent,t.next=17,t.t2.fromWei.call(t.t2,t.t3,"ether");case 17:s=t.sent,t.next=23;break;case 20:t.prev=20,t.t4=t.catch(10),s="0";case 23:return t.t5=h.utils,t.next=26,x.methods.oraclefee().call();case 26:return t.t6=t.sent,t.next=29,t.t5.fromWei.call(t.t5,t.t6,"ether");case 29:return i=t.sent,t.next=32,x.methods.StakeCount().call();case 32:return o=t.sent,t.next=35,x.methods.DeterminationCount().call();case 35:return u=t.sent,t.t7=h.utils,t.next=39,x.methods.avaxmin().call();case 39:return t.t8=t.sent,t.next=42,t.t7.fromWei.call(t.t7,t.t8,"ether");case 42:return l=t.sent,t.t9=h.utils,t.next=46,x.methods.avaxmax().call();case 46:return t.t10=t.sent,t.next=49,t.t9.fromWei.call(t.t9,t.t10,"ether");case 49:return c=t.sent,t.t11=h.utils,t.next=53,x.methods.min().call();case 53:return t.t12=t.sent,t.next=56,t.t11.fromWei.call(t.t11,t.t12,"ether");case 56:return p=t.sent,t.t13=h.utils,t.next=60,x.methods.max().call();case 60:return t.t14=t.sent,t.next=63,t.t13.fromWei.call(t.t13,t.t14,"ether");case 63:return y=t.sent,t.next=66,Promise.all(Array(parseInt(o)).fill().map((function(e,t){return x.methods.Stakes(t+1).call()})));case 66:return m=t.sent,t.next=69,Promise.all(Array(parseInt(u)).fill().map((function(e,t){return x.methods.Determinations(t+1).call()})));case 69:return d=t.sent,t.next=72,h.eth.getAccounts();case 72:return f=t.sent,b=f[0],t.prev=75,t.t15=h.utils,t.next=79,n.methods.balanceOf(b).call();case 79:return t.t16=t.sent,t.next=82,t.t15.fromWei.call(t.t15,t.t16,"ether");case 82:v=t.sent,t.next=88;break;case 85:t.prev=85,t.t17=t.catch(75),v="0";case 88:return t.t18=h.utils,t.next=91,h.eth.getBalance(b);case 91:return t.t19=t.sent,t.next=94,t.t18.fromWei.call(t.t18,t.t19,"ether");case 94:return k=t.sent,g="",t.next=98,x.methods.Streak(b).call();case 98:w=t.sent,e.setState({currentAccount:f[0],balanceAccount:k,balanceAccountToken:v,userStakes:g,balance:a,balanceToken:s,oracleFee:i,stakeCount:o,stakes:m,deterCount:u,determinations:d,minStake:l,maxStake:c,minStakeToken:p,maxStakeToken:y,streak:w}),t.next=105;break;case 102:t.prev=102,t.t20=t.catch(0),console.log("Caught",t.t20.message);case 105:case"end":return t.stop()}}),t,null,[[0,102],[10,20],[75,85]])})))()}},{key:"render",value:function(){var e=c.Z.Header,t=c.Z.Row,n=c.Z.Cell,a=c.Z.HeaderCell,s=c.Z.Body,r=this.state.filterMine?"Displaying your result history":"Displaying most recent results";return(0,i.jsxs)(T,{balance:this.state.balanceAccount,balanceToken:this.state.balanceAccountToken,currentAccount:this.state.currentAccount,children:[(0,i.jsx)(ee,{oracleFee:this.state.oracleFee,balance:this.state.balanceAccount,balanceToken:this.state.balanceAccountToken,minStake:this.state.minStake,maxStake:this.state.maxStake,minStakeToken:this.state.minStakeToken,maxStakeToken:this.state.maxStakeToken,streak:this.state.streak}),(0,i.jsx)(p.Z,{textAlign:"center",style:{marginTop:"40px"},children:(0,i.jsxs)(p.Z.Row,{columns:5,children:[(0,i.jsxs)(p.Z.Column,{children:["Stakes:",(0,i.jsx)("br",{}),this.state.stakeCount]}),(0,i.jsxs)(p.Z.Column,{children:["Balance AVAX:",(0,i.jsx)("br",{}),this.state.balance]}),(0,i.jsxs)(p.Z.Column,{children:["Balance NODAC:",(0,i.jsx)("br",{}),this.state.balanceToken]}),(0,i.jsxs)(p.Z.Column,{children:["Oracle Fee:",(0,i.jsx)("br",{}),this.state.oracleFee]})]})}),(0,i.jsxs)(c.Z,{className:"tableResultRows",children:[(0,i.jsx)(e,{children:(0,i.jsxs)(t,{className:"tableCellHeader",children:[(0,i.jsx)(a,{className:"tableCellHeader",children:"ID"}),(0,i.jsx)(a,{className:"tableCellHeader",children:"Address"}),(0,i.jsx)(a,{className:"tableCellHeader",children:"Time"}),(0,i.jsx)(a,{className:"tableCellHeader",children:"AVAX Amount"}),(0,i.jsx)(a,{className:"tableCellHeader",children:"Token Amount"}),(0,i.jsx)(a,{className:"tableCellHeader",children:"Result"}),(0,i.jsx)(a,{className:"tableCellHeader",children:"Settled"})]})}),(0,i.jsxs)(s,{children:[this.renderStakes(this.state.currentAccount),(0,i.jsx)(t,{children:(0,i.jsxs)(n,{colSpan:"7",style:{textAlign:"center"},children:[(0,i.jsx)(y.Z,{name:"chart area",onClick:this.handleFilter,style:{cursor:"pointer",color:this.state.filterMine?"var(--light-color)":"var(--dark-color)"},size:"big"}),r]})})]})]}),(0,i.jsx)("div",{className:"disclaimer",children:"All stakes are subject to a 3.5% staking fee"})]})}}])&&re(t.prototype,n),a&&re(t,a),o}(l.Component),fe=de;function he(e){return(0,i.jsxs)("div",{style:{marginTop:"40px"},children:[(0,i.jsx)(g.Z,{src:"/images/coin_spin_bg.gif",size:"small",centered:!0}),(0,i.jsx)("h3",{className:"introText",children:"Connect to your wallet to play!!"}),e.children]})}var be=n(80967);function xe(e,t,n,a,s,r,i){try{var o=e[r](i),u=o.value}catch(l){return void n(l)}o.done?t(u):Promise.resolve(u).then(a,s)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function i(e){xe(r,a,s,i,o,"next",e)}function o(e){xe(r,a,s,i,o,"throw",e)}i(void 0)}))}}function ke(e){var t=(0,o.Ge)(),n=t.active,a=(t.account,t.library,t.connector,t.activate);t.deactivate;function s(){return l.apply(this,arguments)}function l(){return(l=ve(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(u.L);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return(0,i.jsx)("div",{className:"",children:n?(0,i.jsx)(fe,{children:e.children}):(0,i.jsx)(he,{children:(0,i.jsx)(p.Z,{textAlign:"center",children:(0,i.jsx)(p.Z.Row,{columns:2,children:(0,i.jsx)(p.Z.Column,{children:(0,i.jsx)(be.Z,{onClick:s,style:{padding:"10px"},color:"blue",children:(0,i.jsx)("img",{src:"./images/Metamask-logo.svg",alt:"MetaMask",width:"260px",height:"30px"})})})})})})})}}},function(e){e.O(0,[357,774,888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);